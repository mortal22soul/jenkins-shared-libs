This step runs a Trivy vulnerability scan on a container image using a custom shell script.

Usage:
  vulnerabilityScan(imageName: "<image-name>")

Arguments:
  imageName - The name of the container image to scan.
  severity  - Comma-separated severity levels to include in the scan (e.g., LOW,MEDIUM,HIGH,CRITICAL).
  exitCode  - Exit code behavior:
                0 = Do not fail the pipeline on findings.
                1 = Fail the pipeline if vulnerabilities are found.

Behavior:
  - Loads the trivy.sh script from the shared library (resources/scripts/).
  - Executes: ./trivy.sh <imageName> <imageName> <imageName>
    (The script can use these arguments for scanning and report generation.)

Example:
  pipeline {
      agent any
      stages {
          stage('Vulnerability Scan') {
              steps {
                  vulnerabilityScan(
                    imageName: "nginx:latest"
                    severity: "CRITICAL"
                    exitCode: 1
                    )
              }
          }
      }
  }
